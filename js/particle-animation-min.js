var easeParticlesModule=function(){function t(t,e,n,a,o,s){this.position=t||{x:0,y:0},this.particleDestination=e||{x:0,y:0},this.sampleAmount=o||1,this.killAfterParticle=o>r.maxParticlesPerEmitter?r.maxParticlesPerEmitter:this.sampleAmount,this.rate=this.killAfterParticle,this.onParticleDeath=n||function(){},this.onEmitterDeath=a||function(){},this.particleColor=s||"#FFFFFF",this.particleCount=0,this.particles=[],this.getParticleSampleAmount=function(){var t=Math.round(this.sampleAmount/this.particles.length);return this.sampleAmount-=t,t},this.spawnParticles=function(){for(var t,e,n,a=0,o=this.rate,s=r.easings;o>a;a++){do t=Math.floor(Math.random()*s.length),e=Math.floor(Math.random()*s.length);while(t===e);n=Math.floor(15*Math.random())+30,this.particles.push(new i(this.position,s[t],s[e],n)),this.particleCount++}}}function i(t,i,e,n){this.frame=0,this.frames=n||30,this.position=t||{x:0,y:0},this.easeX=i||"linear",this.easeY=e||"linear"}function e(){for(var t=0,i=r.emitters,e=i.length;e>t;t++)i[t].particleCount<i[t].killAfterParticle&&i[t].spawnParticles()}function n(){for(var t,i,e,n,a,o,s,l=0,c=r.emitters,h=c.length;h>l;l++)for(i=c[l],n=i.particleDestination.x-i.position.x,a=i.particleDestination.y-i.position.y,t=i.particles.length-1;t>=0;t--)e=i.particles[t],e.frame<e.frames?(e.frame++,o=easingData[e.easeX](e.frame,i.position.x,n,e.frames),s=easingData[e.easeY](e.frame,i.position.y,a,e.frames),e.position={x:o,y:s}):(i.onParticleDeath(i.getParticleSampleAmount()),i.particles.splice(t,1))}function a(){for(var t,i,e=0,n=r.emitters,a=n.length;a>e;e++)for(t=0;t<n[e].particles.length;t++)i=n[e].particles[t],r.ctx.beginPath(),r.ctx.arc(i.position.x,i.position.y,5,0,2*Math.PI),r.ctx.fillStyle=n[e].particleColor,r.ctx.fill(),r.ctx.closePath()}function o(){for(var t=r.emitters,i=t.length-1;i>=0;i--)0===t[i].particles.length&&t.splice(i,1);0===t.length&&(r.looping=!1)}var r={maxParticlesPerEmitter:25,easings:["linear","inQuad","outQuad","inOutQuad","inSine","outSine","inOutSine","inExpo","outExpo","inOutExpo","inCirc","outCirc","inOutCirc"],looping:!0,canvas:null,ctx:null,emitters:[]};return{create:function(t){if(void 0!=t){var i=window.devicePixelRatio||1;r.canvas=t,r.ctx=r.canvas.getContext("2d"),r.canvas.width=window.innerWidth*i,r.canvas.height=window.innerHeight*i,r.canvas.style.width=window.innerWidth+"px",r.canvas.style.height=window.innerHeight+"px",r.ctx.scale(i,i)}},createEmitter:function(i){var e=i||{},n={x:e.position.x,y:e.position.y},a={x:e.destination.x,y:e.destination.y},o=e.onParticleDeath||function(){},s=e.onEmitterDeath||function(){},l=e.sampleAmount||1,c=e.color||"#FFFFFF";r.emitters.push(new t(n,a,o,s,l,c)),r.looping=!0},loop:function(){r.looping&&(r.ctx.clearRect(0,0,r.canvas.width,r.canvas.height),e(),o(),n(),a())}}}();